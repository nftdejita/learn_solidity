このコントラクトチュートリアルでは、ERC721（NFT）オークションコントラクトを作成する方法を学習します。
このチュートリアルを開始する前に、Learnethの「SolidityNFTコース」を受講することをお勧めします。

次のセクションでは、売り手が最高入札者にNFTをオークションにかけることができるコントラクトを作成します。このコントラクトは、<a href="https://solidity-by-example.org/app/english-auction/" target="_blank"> Solidity byExample</a>プロジェクトによって作成されました。この最初のセクションでは、インターフェース、必要なSTATE変数、およびコンストラクターを作成します。

### Interface
コントラクトがERC721トークンと対話する必要があるため、ERC721トークンのインターフェイス（5行目）を作成します。 `safeTransferFrom`（5行目）と` transferFrom`（11行目）のメソッドが必要になります。

### EnglishAuction
重要なインタラクションをログに記録できるように、「Start」、「Bid」、「Withdraw」、「End」の4つのイベントを作成します（19〜22行目）。

次に、オークションのオンチェーンに必要なすべての情報を格納するSTATE変数を作成します。

オークションにかけたいNFTの2つのSTATE変数を作成します。変数`nft`（24行目）には、NFTコントラクトの表現が格納されています。これにより、インターフェイスIERC721とNFTコントラクトのアドレスを組み合わせてその関数を呼び出すことができます。
`nftId`（25行目）では、オークションにかけられるNFTコントラクトに特定のトークンIDを保存します。

次に、NFTを競売にかけている人、「売り手」のアドレスを格納する変数が必要です（27行目）。
NFTコントラクトでは、オークションの終了時にオークションの収益を売り手に送信する必要があるため、`address payable`を使用します。

オークションの終了日を格納するSTATE変数`endAt`（28行目）を作成します。
また、オークションが開始したか終了したかを追跡する2つのブール値 `started`（29行目）と` end`（30行目）を作成します。

最高入札者のアドレスを格納する変数`highestBidder`（32行目）を作成します。オークション終了後、落札者にNFTを送ります。

最後に、最高入札額を保存するためのuint `highestBid`（33行目）と、アカウントが撤回する前に行った入札の合計値を保存できるマッピング` bids`（34行目）が必要です。これについては、次のセクションで詳しく説明します。

### Constructor
競売人がコントラクトを展開するとき、彼らはいくつかの引数を提供する必要があります：
オークションにかけたいNFTのコントラクトのアドレス`_nft`（37行目）、オークションにかけたいNFTのトークンID `_nftId`（38行目）、および最初に入札するために入札しすぎなければならない開始価格オークションに入札する`_startingBid`（39行目）。

デプロイされると、STATE変数 `nft`（41行目）、` nftId`（42行目）、 `highestBid`（45行目）に引数からの値が割り当てられます。コントラクトをデプロイした`seller`のアドレスは、msg.senderを介して自動的に読み取られ、STATE変数` seller`に格納されます（44行目）。

次のセクションでは、競売人がオークションを開始し、入札者が入札できるようにします。

## ⭐️課題
次のセクションの割り当て部分を使用して、RemixのJavaScriptVM環境でコントラクトをテストする手順を説明します。

1. NFTコントラクトを展開します。 「3.3 ERC721-トークンの作成」セクションで作成したNFTコントラクトを使用できます。

2. このEnglishAuctionコントラクトを展開します。 NFTコントラクトのアドレスを`_nft`パラメータの引数として使用し、` _nftId`の場合は0、`_startingBid`の場合は1を使用します。

3. コントラクトをデプロイした後、 `nft`、` nftId`、`started`などのコントラクト関数が期待どおりに機能するかどうかをテストします。