## ライブラリのデプロイ

前の章の**ライブラリ**は**コントラクト**と同じファイルにありました。ただし、それらは一緒に展開されず、異なるアドレスを持ちます。

ライブラリを使用するには、呼び出し側のコントラクトにライブラリの**アドレス**が必要です。

ただし、ライブラリのアドレスはSolidityコードで直接指定されていません。呼び出し元のコントラクトのコンパイル済みバイトコードには、ライブラリの**アドレス**が配置される**プレースホルダー**が含まれています。

**呼び出しコントラクト**の展開時に、Remixはコントラクトの**メタデータ**でライブラリのアドレスを検索し、プレースホルダーをそのアドレスで更新します。

したがって、ライブラリを呼び出すコントラクトをデプロイする前に、コントラクトのメタデータ（別名**ビルドアーティファクト**）を生成してから、ライブラリのアドレスをメタデータファイルに入力する必要があります。

コントラクトのメタデータは**コンパイル時**に生成されます。

**メタデータファイル**を生成するようにRemixをセットアップしましょう。

 - アイコンパネルの設定![settings](settings.png "Settings")アイコンをクリックして、設定モジュールに移動します。 
 ![設定モジュール](remix_settings.png "Settings Module")

 - そして、最初のオプション「コントラクトメタデータの生成」をチェックします。

# メタデータ（JSON）ファイルをコンパイルして生成します。

1. Solidityコンパイラを開きます![Solidityコンパイラ](remix_icon_solidity.png "Solidityコンパイラ")

2. `2_contractSimpleLibrary.sol`をコンパイルします。

3. ファイルエクスプローラーに切り替えます![ファイルエクスプローラー](remix_file_explorer.png "ファイルエクスプローラー")

4. 新しく作成したJSONファイルに移動します。
    - 次のフォルダにあるはずです：
**browser/.learneth/DeployWithLibraries/2_Generate_Metadata/artifacts/**  

5. コントラクトから作成された新しく作成されたJSONファイルを選択します。コントラクト`sample`と**同じ名前**ですが、拡張子は**json**：` sample.json`です（ライブラリのメタデータ `contractSimpleLibrary.json`は選択しないでください）。

次のステップでは、メタデータファイルにいくつかの調整を加えます。